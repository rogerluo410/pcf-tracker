[{"name":"start_processing.action_controller","payload":{"controller":"ContainersController","action":"upload","params":{"packagelist":"{\"container_id\":\"8\",\"target\":\"centos\",\"category\":\"baseos\",\"list\":[{\"package\":\"wluo,12.3\"},{\"package\":\"roger,21.22\"}]}","action":"upload","controller":"containers","id":"8"},"format":"json","method":"POST","path":"/containers/8/container_packages_list_upload"},"time":"2014-08-05T20:39:33-07:00","transaction_id":"f21f7a8b4b51198d15c8","end":"2014-08-05T20:39:33-07:00","duration":0.005775},{"name":"sql.active_record","payload":{"sql":"SELECT COUNT(*) FROM \"containers\"  WHERE (id=8 and deleted = false )","name":null,"connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:33-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:33-07:00","duration":0.649937},{"name":"sql.active_record","payload":{"sql":"SHOW search_path","name":"SCHEMA","connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:33-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:33-07:00","duration":0.38049900000000003},{"name":"sql.active_record","payload":{"sql":"SELECT  \"containers\".* FROM \"containers\"  WHERE \"containers\".\"id\" = $1 LIMIT 1","name":"Container Load","connection_id":27896740,"binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},"8"]]},"time":"2014-08-05T20:39:33-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:33-07:00","duration":1.372799},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.679721},{"name":"sql.active_record","payload":{"sql":"SELECT \"container_packages\".* FROM \"container_packages\"  WHERE (container_id=8 and deleted = false) ORDER BY name,id desc","name":"ContainerPackage Load","connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":1.142109},{"name":"sql.active_record","payload":{"sql":"SELECT  \"container_packages\".* FROM \"container_packages\"  WHERE \"container_packages\".\"id\" = $1 LIMIT 1","name":"ContainerPackage Load","connection_id":27896740,"binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},1386]]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":11.651319},{"name":"sql.active_record","payload":{"sql":"UPDATE \"container_packages\" SET \"deleted\" = 't', \"updated_at\" = '2014-08-06 03:39:35.405507' WHERE \"container_packages\".\"id\" = 1386","name":null,"connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":1.397893},{"name":"sql.active_record","payload":{"sql":"SELECT  \"container_packages\".* FROM \"container_packages\"  WHERE \"container_packages\".\"id\" = $1 LIMIT 1","name":"ContainerPackage Load","connection_id":27896740,"binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},1385]]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.8360190000000001},{"name":"sql.active_record","payload":{"sql":"UPDATE \"container_packages\" SET \"deleted\" = 't', \"updated_at\" = '2014-08-06 03:39:35.413480' WHERE \"container_packages\".\"id\" = 1385","name":null,"connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.5007170000000001},{"name":"sql.active_record","payload":{"sql":"SELECT COUNT(*) FROM \"container_packages\"  WHERE (name='wluo' and version = '12.3' and container_id = 8 and deleted = false)","name":null,"connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.7172259999999999},{"name":"sql.active_record","payload":{"sql":"INSERT INTO \"container_packages\" (\"container_id\", \"created_at\", \"deleted\", \"mt_id\", \"name\", \"status\", \"updated_at\", \"ut_id\", \"version\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING \"id\"","name":"SQL","connection_id":27896740,"binds":[[{"name":"container_id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":false,"coder":null},8],[{"name":"created_at","sql_type":"timestamp without time zone","null":false,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"primary":false,"coder":null},"2014-08-06T03:39:35Z"],[{"name":"deleted","sql_type":"boolean","null":false,"limit":null,"precision":null,"scale":null,"type":"boolean","default":false,"primary":false,"coder":null},false],[{"name":"mt_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"primary":false,"coder":null},0],[{"name":"name","sql_type":"character varying(255)","null":false,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"primary":false,"coder":null},"wluo"],[{"name":"status","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"primary":false,"coder":null},0],[{"name":"updated_at","sql_type":"timestamp without time zone","null":false,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"primary":false,"coder":null},"2014-08-06T03:39:35Z"],[{"name":"ut_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"primary":false,"coder":null},0],[{"name":"version","sql_type":"character varying(255)","null":false,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"primary":false,"coder":null},"12.3"]]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":1.414526},{"name":"sql.active_record","payload":{"sql":"SELECT COUNT(*) FROM \"container_packages\"  WHERE (name='roger' and version = '21.22' and container_id = 8 and deleted = false)","name":null,"connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.582159},{"name":"sql.active_record","payload":{"sql":"INSERT INTO \"container_packages\" (\"container_id\", \"created_at\", \"deleted\", \"mt_id\", \"name\", \"status\", \"updated_at\", \"ut_id\", \"version\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING \"id\"","name":"SQL","connection_id":27896740,"binds":[[{"name":"container_id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":false,"coder":null},8],[{"name":"created_at","sql_type":"timestamp without time zone","null":false,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"primary":false,"coder":null},"2014-08-06T03:39:35Z"],[{"name":"deleted","sql_type":"boolean","null":false,"limit":null,"precision":null,"scale":null,"type":"boolean","default":false,"primary":false,"coder":null},false],[{"name":"mt_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"primary":false,"coder":null},0],[{"name":"name","sql_type":"character varying(255)","null":false,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"primary":false,"coder":null},"roger"],[{"name":"status","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"primary":false,"coder":null},0],[{"name":"updated_at","sql_type":"timestamp without time zone","null":false,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"primary":false,"coder":null},"2014-08-06T03:39:35Z"],[{"name":"ut_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"primary":false,"coder":null},0],[{"name":"version","sql_type":"character varying(255)","null":false,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"primary":false,"coder":null},"21.22"]]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.575275},{"name":"sql.active_record","payload":{"sql":"SELECT  \"containers\".* FROM \"containers\"  WHERE \"containers\".\"id\" = $1 LIMIT 1","name":"Container Load","connection_id":27896740,"binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},8]]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.37183000000000005},{"name":"sql.active_record","payload":{"sql":"UPDATE \"containers\" SET \"target\" = 'centos', \"updated_at\" = '2014-08-06 03:39:35.425849' WHERE \"containers\".\"id\" = 8","name":null,"connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.5152209999999999},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.940546},{"name":"sql.active_record","payload":{"sql":"SELECT  \"containers\".* FROM \"containers\"  WHERE \"containers\".\"id\" = $1 LIMIT 1","name":"Container Load","connection_id":27896740,"binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},8]]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.47416},{"name":"sql.active_record","payload":{"sql":"SELECT \"container_packages\".* FROM \"container_packages\"  WHERE (container_id=8 and deleted = false and mt_id = 0 )","name":"ContainerPackage Load","connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.5483709999999999},{"name":"sql.active_record","payload":{"sql":"            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n             WHERE a.attrelid = '\"products\"'::regclass\n               AND a.attnum > 0 AND NOT a.attisdropped\n             ORDER BY a.attnum\n","name":"SCHEMA","connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.946669},{"name":"sql.active_record","payload":{"sql":"            SELECT COUNT(*)\n            FROM pg_class c\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\n            WHERE c.relkind in ('v','r')\n            AND c.relname = 'products'\n            AND n.nspname = ANY (current_schemas(false))\n","name":"SCHEMA","connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.511467},{"name":"sql.active_record","payload":{"sql":"          SELECT DISTINCT(attr.attname)\n          FROM pg_attribute attr\n          INNER JOIN pg_depend dep ON attr.attrelid = dep.refobjid AND attr.attnum = dep.refobjsubid\n          INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\n          WHERE cons.contype = 'p'\n            AND dep.refobjid = '\"products\"'::regclass\n","name":"SCHEMA","connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":1.209824},{"name":"sql.active_record","payload":{"sql":"SELECT  \"products\".* FROM \"products\"  WHERE \"products\".\"id\" = $1 LIMIT 1","name":"Product Load","connection_id":27896740,"binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},2]]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.8366359999999999},{"name":"sql.active_record","payload":{"sql":"select sum(cnt) from (select count(1) cnt from repos where product_id = 2 and deleted = false and status = 0 union all\nselect count(1) cnt from containers where product_id = 2 and deleted = false and status = 0 ) a","name":"Product Load","connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":1.086945},{"name":"sql.active_record","payload":{"sql":"SELECT  \"products\".* FROM \"products\"  WHERE \"products\".\"id\" = $1 LIMIT 1","binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},2]],"name":"CACHE","connection_id":27896740},"time":"2014-08-05T20:39:35-07:00","transaction_id":"f21f7a8b4b51198d15c8","end":"2014-08-05T20:39:35-07:00","duration":0.002921},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.302371},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":27896740,"binds":[]},"time":"2014-08-05T20:39:35-07:00","transaction_id":"ddaa2eb6345deac7f37b","end":"2014-08-05T20:39:35-07:00","duration":0.261089},{"name":"process_action.action_controller","payload":{"controller":"ContainersController","action":"upload","params":{"packagelist":"{\"container_id\":\"8\",\"target\":\"centos\",\"category\":\"baseos\",\"list\":[{\"package\":\"wluo,12.3\"},{\"package\":\"roger,21.22\"}]}","action":"upload","controller":"containers","id":"8"},"format":"json","method":"POST","path":"/containers/8/container_packages_list_upload","status":200,"view_runtime":0.13534,"db_runtime":29.908249000000005},"time":"2014-08-05T20:39:33-07:00","transaction_id":"f21f7a8b4b51198d15c8","end":"2014-08-05T20:39:35-07:00","duration":2002.0029680000002}]