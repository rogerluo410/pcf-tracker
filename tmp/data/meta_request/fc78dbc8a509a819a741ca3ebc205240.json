[{"name":"start_processing.action_controller","payload":{"controller":"ContainersController","action":"upload","params":{"packagelist":"{\"container_id\":\"8\",\"target\":\"centos\",\"category\":\"baseos\",\"list\":[{\"package\":\"system-config-firewall-base,1.2.27-5.el6-noarch\"},{\"package\":\"centos-release,6-5.el6.centos.11.2-x86_64\"}]}","action":"upload","controller":"containers","id":"8"},"format":"json","method":"POST","path":"/containers/8/container_packages_list_upload"},"time":"2014-08-05T22:33:22-07:00","transaction_id":"5f83b38b318ae84dbd68","end":"2014-08-05T22:33:22-07:00","duration":0.004398},{"name":"sql.active_record","payload":{"sql":"            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n             WHERE a.attrelid = '\"containers\"'::regclass\n               AND a.attnum > 0 AND NOT a.attisdropped\n             ORDER BY a.attnum\n","name":"SCHEMA","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:22-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:22-07:00","duration":4.971972},{"name":"sql.active_record","payload":{"sql":"            SELECT COUNT(*)\n            FROM pg_class c\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\n            WHERE c.relkind in ('v','r')\n            AND c.relname = 'containers'\n            AND n.nspname = ANY (current_schemas(false))\n","name":"SCHEMA","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:22-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:22-07:00","duration":1.271405},{"name":"sql.active_record","payload":{"sql":"          SELECT DISTINCT(attr.attname)\n          FROM pg_attribute attr\n          INNER JOIN pg_depend dep ON attr.attrelid = dep.refobjid AND attr.attnum = dep.refobjsubid\n          INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\n          WHERE cons.contype = 'p'\n            AND dep.refobjid = '\"containers\"'::regclass\n","name":"SCHEMA","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:22-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:22-07:00","duration":2.002911},{"name":"sql.active_record","payload":{"sql":"SELECT COUNT(*) FROM \"containers\"  WHERE (id=8 and deleted = false )","name":null,"connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:22-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:22-07:00","duration":0.7160810000000001},{"name":"sql.active_record","payload":{"sql":"SHOW search_path","name":"SCHEMA","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:22-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:22-07:00","duration":0.310598},{"name":"sql.active_record","payload":{"sql":"SELECT  \"containers\".* FROM \"containers\"  WHERE \"containers\".\"id\" = $1 LIMIT 1","name":"Container Load","connection_id":28213500,"binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},"8"]]},"time":"2014-08-05T22:33:22-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:22-07:00","duration":1.303261},{"name":"sql.active_record","payload":{"sql":"            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n             WHERE a.attrelid = '\"container_packages\"'::regclass\n               AND a.attnum > 0 AND NOT a.attisdropped\n             ORDER BY a.attnum\n","name":"SCHEMA","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:23-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:23-07:00","duration":1.632401},{"name":"sql.active_record","payload":{"sql":"            SELECT COUNT(*)\n            FROM pg_class c\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\n            WHERE c.relkind in ('v','r')\n            AND c.relname = 'container_packages'\n            AND n.nspname = ANY (current_schemas(false))\n","name":"SCHEMA","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:23-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:23-07:00","duration":1.077647},{"name":"sql.active_record","payload":{"sql":"          SELECT DISTINCT(attr.attname)\n          FROM pg_attribute attr\n          INNER JOIN pg_depend dep ON attr.attrelid = dep.refobjid AND attr.attnum = dep.refobjsubid\n          INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\n          WHERE cons.contype = 'p'\n            AND dep.refobjid = '\"container_packages\"'::regclass\n","name":"SCHEMA","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:23-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:23-07:00","duration":13.021444},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":0.705893},{"name":"sql.active_record","payload":{"sql":"SELECT \"container_packages\".* FROM \"container_packages\"  WHERE (container_id=8 and deleted = false) ORDER BY name,id desc","name":"ContainerPackage Load","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":2.589389},{"name":"sql.active_record","payload":{"sql":"SELECT  \"container_packages\".* FROM \"container_packages\"  WHERE \"container_packages\".\"id\" = $1 LIMIT 1","name":"ContainerPackage Load","connection_id":28213500,"binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},1390]]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":1.885659},{"name":"sql.active_record","payload":{"sql":"UPDATE \"container_packages\" SET \"deleted\" = 't', \"updated_at\" = '2014-08-06 05:33:24.251855' WHERE \"container_packages\".\"id\" = 1390","name":null,"connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":1.310642},{"name":"sql.active_record","payload":{"sql":"SELECT  \"container_packages\".* FROM \"container_packages\"  WHERE \"container_packages\".\"id\" = $1 LIMIT 1","name":"ContainerPackage Load","connection_id":28213500,"binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},1389]]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":0.9000189999999999},{"name":"sql.active_record","payload":{"sql":"UPDATE \"container_packages\" SET \"deleted\" = 't', \"updated_at\" = '2014-08-06 05:33:24.259334' WHERE \"container_packages\".\"id\" = 1389","name":null,"connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":1.282138},{"name":"sql.active_record","payload":{"sql":"SELECT COUNT(*) FROM \"container_packages\"  WHERE (name='system-config-firewall-base' and version = '1.2.27-5.el6-noarch' and container_id = 8 and deleted = false)","name":null,"connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":1.5066350000000002},{"name":"sql.active_record","payload":{"sql":"INSERT INTO \"container_packages\" (\"container_id\", \"created_at\", \"deleted\", \"mt_id\", \"name\", \"status\", \"updated_at\", \"ut_id\", \"version\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING \"id\"","name":"SQL","connection_id":28213500,"binds":[[{"name":"container_id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":false,"coder":null},8],[{"name":"created_at","sql_type":"timestamp without time zone","null":false,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"primary":false,"coder":null},"2014-08-06T05:33:24Z"],[{"name":"deleted","sql_type":"boolean","null":false,"limit":null,"precision":null,"scale":null,"type":"boolean","default":false,"primary":false,"coder":null},false],[{"name":"mt_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"primary":false,"coder":null},0],[{"name":"name","sql_type":"character varying(255)","null":false,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"primary":false,"coder":null},"system-config-firewall-base"],[{"name":"status","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"primary":false,"coder":null},0],[{"name":"updated_at","sql_type":"timestamp without time zone","null":false,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"primary":false,"coder":null},"2014-08-06T05:33:24Z"],[{"name":"ut_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"primary":false,"coder":null},0],[{"name":"version","sql_type":"character varying(255)","null":false,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"primary":false,"coder":null},"1.2.27-5.el6-noarch"]]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":3.1341759999999996},{"name":"sql.active_record","payload":{"sql":"SELECT COUNT(*) FROM \"container_packages\"  WHERE (name='centos-release' and version = '6-5.el6.centos.11.2-x86_64' and container_id = 8 and deleted = false)","name":null,"connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":1.169684},{"name":"sql.active_record","payload":{"sql":"INSERT INTO \"container_packages\" (\"container_id\", \"created_at\", \"deleted\", \"mt_id\", \"name\", \"status\", \"updated_at\", \"ut_id\", \"version\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING \"id\"","name":"SQL","connection_id":28213500,"binds":[[{"name":"container_id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":false,"coder":null},8],[{"name":"created_at","sql_type":"timestamp without time zone","null":false,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"primary":false,"coder":null},"2014-08-06T05:33:24Z"],[{"name":"deleted","sql_type":"boolean","null":false,"limit":null,"precision":null,"scale":null,"type":"boolean","default":false,"primary":false,"coder":null},false],[{"name":"mt_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"primary":false,"coder":null},0],[{"name":"name","sql_type":"character varying(255)","null":false,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"primary":false,"coder":null},"centos-release"],[{"name":"status","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"primary":false,"coder":null},0],[{"name":"updated_at","sql_type":"timestamp without time zone","null":false,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"primary":false,"coder":null},"2014-08-06T05:33:24Z"],[{"name":"ut_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"primary":false,"coder":null},0],[{"name":"version","sql_type":"character varying(255)","null":false,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"primary":false,"coder":null},"6-5.el6.centos.11.2-x86_64"]]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":2.0791500000000003},{"name":"sql.active_record","payload":{"sql":"SELECT  \"containers\".* FROM \"containers\"  WHERE \"containers\".\"id\" = $1 LIMIT 1","name":"Container Load","connection_id":28213500,"binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},8]]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":1.2937770000000002},{"name":"sql.active_record","payload":{"sql":"UPDATE \"containers\" SET \"target\" = 'centos', \"updated_at\" = '2014-08-06 05:33:24.287638' WHERE \"containers\".\"id\" = 8","name":null,"connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":0.698196},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":11.287030999999999},{"name":"sql.active_record","payload":{"sql":"SELECT  \"containers\".* FROM \"containers\"  WHERE \"containers\".\"id\" = $1 LIMIT 1","name":"Container Load","connection_id":28213500,"binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},8]]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":0.55431},{"name":"sql.active_record","payload":{"sql":"SELECT \"container_packages\".* FROM \"container_packages\"  WHERE (container_id=8 and deleted = false and mt_id = 0 )","name":"ContainerPackage Load","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":1.217987},{"name":"sql.active_record","payload":{"sql":"            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n             WHERE a.attrelid = '\"products\"'::regclass\n               AND a.attnum > 0 AND NOT a.attisdropped\n             ORDER BY a.attnum\n","name":"SCHEMA","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":1.032355},{"name":"sql.active_record","payload":{"sql":"            SELECT COUNT(*)\n            FROM pg_class c\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\n            WHERE c.relkind in ('v','r')\n            AND c.relname = 'products'\n            AND n.nspname = ANY (current_schemas(false))\n","name":"SCHEMA","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":0.562166},{"name":"sql.active_record","payload":{"sql":"          SELECT DISTINCT(attr.attname)\n          FROM pg_attribute attr\n          INNER JOIN pg_depend dep ON attr.attrelid = dep.refobjid AND attr.attnum = dep.refobjsubid\n          INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\n          WHERE cons.contype = 'p'\n            AND dep.refobjid = '\"products\"'::regclass\n","name":"SCHEMA","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":1.21605},{"name":"sql.active_record","payload":{"sql":"SELECT  \"products\".* FROM \"products\"  WHERE \"products\".\"id\" = $1 LIMIT 1","name":"Product Load","connection_id":28213500,"binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},2]]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":0.899101},{"name":"sql.active_record","payload":{"sql":"select sum(cnt) from (select count(1) cnt from repos where product_id = 2 and deleted = false and status = 0 union all\nselect count(1) cnt from containers where product_id = 2 and deleted = false and status = 0 ) a","name":"Product Load","connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":1.258333},{"name":"sql.active_record","payload":{"sql":"SELECT  \"products\".* FROM \"products\"  WHERE \"products\".\"id\" = $1 LIMIT 1","binds":[[{"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"primary":true,"coder":null},2]],"name":"CACHE","connection_id":28213500},"time":"2014-08-05T22:33:24-07:00","transaction_id":"5f83b38b318ae84dbd68","end":"2014-08-05T22:33:24-07:00","duration":0.0027559999999999998},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":0.277561},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":28213500,"binds":[]},"time":"2014-08-05T22:33:24-07:00","transaction_id":"d99cba078d6d80b83dc5","end":"2014-08-05T22:33:24-07:00","duration":0.24804500000000002},{"name":"process_action.action_controller","payload":{"controller":"ContainersController","action":"upload","params":{"packagelist":"{\"container_id\":\"8\",\"target\":\"centos\",\"category\":\"baseos\",\"list\":[{\"package\":\"system-config-firewall-base,1.2.27-5.el6-noarch\"},{\"package\":\"centos-release,6-5.el6.centos.11.2-x86_64\"}]}","action":"upload","controller":"containers","id":"8"},"format":"json","method":"POST","path":"/containers/8/container_packages_list_upload","status":200,"view_runtime":0.168453,"db_runtime":63.418773},"time":"2014-08-05T22:33:22-07:00","transaction_id":"5f83b38b318ae84dbd68","end":"2014-08-05T22:33:24-07:00","duration":1894.643282}]